<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Pong</title>
        <style>
            canvas {
                position: absolute;
                left: 50%;
                top: 50%;
                background-color: black;
                margin-top: -300px;
                margin-left: -300px;
            }
        </style>
    </head>
    <body>
        <canvas height="600" width="600" id="mycanvas">O seu browser n√£o supota esse elemento</canvas>
        <script>
            var canvas = document.getElementById("mycanvas");
            var ctx = canvas.getContext("2d");

            //ctx.fillStyle = "white";
            //ctx.fillRect(0,0,50,50);

            var teclas = {};

            var bola = {
                x: canvas.width / 2 - 15,
                y:canvas.height / 2 -15,
                altura: 30,
                largura: 30,
                dirx: -1,
                diry: 1,
                mod: 0,
                speed: 50
            };

            var esquerda = {
                x: 10,
                y: canvas.height / 2 - 60,
                altura: 120,
                largura: 30,
                score: 0,
                speed: 15
            };

            var direita = {
                x: 560,
                y: canvas.height / 2 - 60,
                altura: 120,
                largura: 30,
                score: 0,
                speed: 15
            };

            document.addEventListener("keydown", function(e){
                teclas[e.keyCode] = true;
                //alert(e.keyCode)
            }, false);

            document.addEventListener("keyup", function(e){
                delete teclas[e.keyCode];
            },false);

            function movebloco(){
                if(87 in teclas && esquerda.y > 0)
                    esquerda.y  -= esquerda.speed;
                
                if(83 in teclas && esquerda.y + esquerda.altura < canvas.height)
                    esquerda.y += esquerda.speed;
                
                if(38 in teclas && direita.y >0)
                    direita.y -= direita.speed;
                
                if(40 in teclas && direita.y + direita.altura < canvas.height)
                    direita.y += direita.speed;
            }

            function desenha(){
                ctx.clearRect(0,0,canvas.width, canvas.height);
                movebloco();
                
                
                ctx.fillStyle = "white";
                ctx.fillRect(esquerda.x, esquerda.y, esquerda.largura, esquerda.altura);
                ctx.fillRect(direita.x, direita.y, direita.largura, direita.altura);
                ctx.fillRect(bola.x, bola.y, bola.largura, bola.altura);

                ctx.font =  "20 px Arial";
                ctx.fillText("Player 1: " + esquerda.score, 50, 20);
                ctx.fillText("Player 2: " + direita.score, canvas.width - 150, 20);
            };

            setInterval(desenha, 13)

        </script>
    </body>
</html>